<div class="app-side-nav" *ngIf="isAuthenticated || isToken">
  <mat-toolbar color="primary" class="mat-elevation-z8">
    <mat-toolbar-row class="toolbar-row">
      <button mat-icon-button (click)="drawer.toggle()">
        <mat-icon aria-hidden="false">menu</mat-icon>
      </button>
      <div class="toolbar-content">
        <div class="title">Stock Management System</div>
        <div>
          <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Menu">
            <mat-icon>more_vert</mat-icon>
          </button>
        </div>
      </div>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="logOut()">
          <mat-icon>exit_to_app</mat-icon>
          <span>Sign Off</span>
        </button>
      </mat-menu>
    </mat-toolbar-row>
  </mat-toolbar>

  <mat-drawer-container class="drawer-container" autosize>
    <mat-drawer #drawer opened="true" mode="push" position="start">
      <mat-nav-list>
        <div class="container">
          <div>
            <p-avatar
              image="https://cdn-icons-png.flaticon.com/512/1069/1069102.png"
              styleClass="mr-2"
              size="xlarge"
              shape="circle"
            ></p-avatar>
          </div>
          <div class="user-details">
            <div style="margin-top: 1rem; font-size: 1.1rem">
              {{ userName | uppercase }}
            </div>
            <div style="margin-top: 0.8rem">
              <p-chip label="{{ roleName }}"></p-chip>
            </div>
          </div>
        </div>

        <mat-divider style="margin-top: 1rem"></mat-divider>
        <ng-container *ngFor="let item of navigationItems">
          <ng-container *ngIf="item.routerLink">
            <a mat-list-item [routerLink]="item.routerLink">
              <div class="with-icon">
                <p-avatar image="{{ item.path }}" styleClass="mr-2"></p-avatar>
                <span style="margin-left: 1rem">{{ item.label }}</span>
              </div>
            </a>
          </ng-container>
        </ng-container>
      </mat-nav-list>
    </mat-drawer>
    <div>
      <router-outlet></router-outlet>
    </div>
  </mat-drawer-container>
</div>
<router-outlet *ngIf="isAuthenticated && !isToken"></router-outlet>
<app-login *ngIf="!isAuthenticated && !isToken"></app-login>
